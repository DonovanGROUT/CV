document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".nav-link"),t=document.querySelectorAll(".dropdown-item"),o=(document.querySelectorAll("section"),document.querySelectorAll(".progress-bar")),n=document.querySelectorAll(".timeline-item"),r=document.querySelector("#phone"),a=document.querySelector("form");$(".carousel.owl-carousel").owlCarousel({margin:10,loop:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,dots:!0,nav:!1,navText:["←","→"],onInitialized:function(e){console.log("OwlCarousel initialized",e),console.log("Dots elements: ",$(".owl-dots").length),$(".owl-dot").each((function(e){$(this).attr("aria-label","Diapositive "+(e+1))})),$(".custom-owl-prev").attr("aria-label","Diapositive précédente"),$(".custom-owl-next").attr("aria-label","Diapositive suivante")},onChanged:function(e){s()},responsive:{0:{items:1},800:{items:2},1200:{items:3}}}),$(".custom-owl-next").click((function(){$(".carousel").trigger("next.owl.carousel")})),$(".custom-owl-prev").click((function(){$(".carousel").trigger("prev.owl.carousel")})),"ontouchstart"in document.documentElement&&document.body.classList.add("touch-device");const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.contains("progress-bar")?e.target.style.width=e.target.getAttribute("data-width"):e.target.classList.contains("timeline-item")&&e.target.classList.add("in-view"))}))}),{threshold:.1});o.forEach((e=>i.observe(e))),n.forEach((e=>i.observe(e)));const c=(e,t)=>{e.forEach((e=>{e.classList.toggle("active",e.getAttribute("href").substring(1)===t)}))},l=o=>{o.preventDefault();const n=o.currentTarget.getAttribute("href").substring(1),r=document.getElementById(n);r&&(window.scrollTo({top:r.offsetTop-document.querySelector(".navbar").offsetHeight,behavior:"smooth"}),c(e,n),c(t,n))};if(e.forEach((e=>e.addEventListener("click",l))),t.forEach((e=>e.addEventListener("click",l))),r){const e=window.intlTelInput(r,{initialCountry:"auto",geoIpLookup:e=>fetch("https://ipinfo.io?token=2ee5851481d61d").then((e=>e.json())).then((t=>e(t.country.toLowerCase()))).catch((()=>e("fr"))),utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/utils.js"});r.addEventListener("countrychange",(()=>{r.maxLength=e.getSelectedCountryData().maxNumberLength||15})),a.addEventListener("submit",(()=>{r.value=e.getNumber()}))}function s(){const e="dark"===document.documentElement.getAttribute("data-theme");document.querySelectorAll(".owl-dot span").forEach((t=>{t.style.backgroundColor=e?"#3D63DD":"#FF8552"}))}s()}));