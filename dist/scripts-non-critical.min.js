document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".nav-link"),t=document.querySelectorAll(".dropdown-item"),o=(document.querySelectorAll("section"),document.querySelectorAll(".progress-bar")),r=document.querySelectorAll(".timeline-item"),n=document.querySelector("#phone"),a=document.querySelector("form");$(".carousel.owl-carousel").owlCarousel({margin:10,loop:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,dots:!0,nav:!1,navText:["←","→"],onInitialized:function(e){console.log("OwlCarousel initialized",e),console.log("Dots elements: ",$(".owl-dots").length),$(".owl-dot").each((function(e){$(this).attr("aria-label","Diapositive "+(e+1))})),$(".custom-owl-prev").attr("aria-label","Diapositive précédente"),$(".custom-owl-next").attr("aria-label","Diapositive suivante")},onChanged:function(e){f()},responsive:{0:{items:1},800:{items:2},1200:{items:3}}}),$(".custom-owl-next").click((function(){$(".carousel").trigger("next.owl.carousel")})),$(".custom-owl-prev").click((function(){$(".carousel").trigger("prev.owl.carousel")}));const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.contains("progress-bar")?e.target.style.width=e.target.getAttribute("data-width"):e.target.classList.contains("timeline-item")&&e.target.classList.add("in-view"))}))}),{threshold:.1});o.forEach((e=>i.observe(e))),r.forEach((e=>i.observe(e)));const l=(e,t)=>{e.forEach((e=>{e.classList.toggle("active",e.getAttribute("href").substring(1)===t)}))},c=o=>{o.preventDefault();const r=o.currentTarget.getAttribute("href").substring(1),n=document.getElementById(r);n&&(window.scrollTo({top:n.offsetTop-document.querySelector(".navbar").offsetHeight,behavior:"smooth"}),l(e,r),l(t,r))};function s(){document.querySelectorAll(".iti__selected-flag").forEach((e=>{e.removeAttribute("aria-label"),e.setAttribute("aria-label","Drapeau sélectionné")}))}e.forEach((e=>e.addEventListener("click",c))),t.forEach((e=>e.addEventListener("click",c)));const u=window.intlTelInput(n,{initialCountry:"auto",geoIpLookup(e){fetch("https://ipinfo.io?token=2ee5851481d61d").then((e=>e.json())).then((t=>{const o=t.country?t.country.toLowerCase():"fr";e(o),u.setCountry(o),s()})).catch((()=>{e("fr"),u.setCountry("fr"),s()}))},utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/utils.js"});if(n.addEventListener("countrychange",(()=>{const e=u.getSelectedCountryData().maxNumberLength;n.maxLength=e||15})),a.addEventListener("submit",(e=>{const t=u.getNumber();n.value=t,s()})),a){var d=JSON.parse(localStorage.getItem("formData"));if(d)for(var m in d){var g=a.querySelector('[name="'+m+'"]');g&&(g.value=d[m])}a.addEventListener("input",(function(){var e=new FormData(a),t={};e.forEach(((e,o)=>{t[o]=e})),localStorage.setItem("formData",JSON.stringify(t))})),a.addEventListener("submit",(function(){localStorage.removeItem("formData")}))}function f(){const e="dark"===document.documentElement.getAttribute("data-theme");document.querySelectorAll(".owl-dot span").forEach((t=>{t.style.backgroundColor=e?"#3D63DD":"#FF8552"}))}f()}));