document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll(".nav-link"),e=document.querySelectorAll(".dropdown-item"),o=document.querySelectorAll(".progress-bar"),r=document.querySelectorAll(".timeline-item"),a=document.querySelector("#phone"),n=document.querySelector("form");$(".carousel.owl-carousel").owlCarousel({margin:10,loop:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,dots:!0,nav:!1,navText:["←","→"],onInitialized:function(t){console.log("OwlCarousel initialized",t),console.log("Dots elements: ",$(".owl-dots").length),$(".owl-dot").each((function(t){$(this).attr("aria-label","Diapositive "+(t+1))})),$(".custom-owl-prev").attr("aria-label","Diapositive précédente"),$(".custom-owl-next").attr("aria-label","Diapositive suivante")},onChanged:function(t){f()},responsive:{0:{items:1},800:{items:2},1200:{items:3}}}),$(".custom-owl-next").click((function(){$(".carousel").trigger("next.owl.carousel")})),$(".custom-owl-prev").click((function(){$(".carousel").trigger("prev.owl.carousel")}));const i=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.contains("progress-bar")?t.target.style.width=t.target.getAttribute("data-width"):t.target.classList.contains("timeline-item")&&t.target.classList.add("in-view"))}))}),{threshold:.1});o.forEach((t=>i.observe(t))),r.forEach((t=>i.observe(t)));const s=(t,e)=>{t.forEach((t=>{t.classList.toggle("active",t.getAttribute("href").substring(1)===e)}))},l=o=>{o.preventDefault();const r=o.currentTarget.getAttribute("href").substring(1),a=document.getElementById(r);a&&(window.scrollTo({top:a.offsetTop-document.querySelector(".navbar").offsetHeight,behavior:"smooth"}),s(t,r),s(e,r))};function c(){document.querySelectorAll(".iti__selected-flag").forEach((t=>{t.setAttribute("role","combobox"),t.setAttribute("aria-controls","iti-0__country-listbox"),t.setAttribute("aria-owns","iti-0__country-listbox"),t.setAttribute("aria-expanded",t.classList.contains("expanded")?"true":"false"),t.setAttribute("aria-activedescendant",u.getSelectedCountryData().iso2?`iti-0__item-${u.getSelectedCountryData().iso2}-preferred`:""),t.setAttribute("aria-label","Drapeau sélectionné")}))}t.forEach((t=>t.addEventListener("click",l))),e.forEach((t=>t.addEventListener("click",l)));const u=window.intlTelInput(a,{initialCountry:"auto",geoIpLookup(t){fetch("https://ipinfo.io?token=2ee5851481d61d").then((t=>t.json())).then((e=>{const o=e.country?e.country.toLowerCase():"fr";t(o),u.setCountry(o),c()})).catch((()=>{t("fr"),u.setCountry("fr"),c()}))},utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/utils.js"});if(a.addEventListener("countrychange",(()=>{const t=u.getSelectedCountryData().maxNumberLength;a.maxLength=t||15,c()})),n.addEventListener("submit",(t=>{const e=u.getNumber();a.value=e,c()})),n){var d=JSON.parse(localStorage.getItem("formData"));if(d)for(var m in d){var g=n.querySelector('[name="'+m+'"]');g&&(g.value=d[m])}n.addEventListener("input",(function(){var t=new FormData(n),e={};t.forEach(((t,o)=>{e[o]=t})),localStorage.setItem("formData",JSON.stringify(e))})),n.addEventListener("submit",(function(){localStorage.removeItem("formData")}))}function f(){const t="dark"===document.documentElement.getAttribute("data-theme");document.querySelectorAll(".owl-dot span").forEach((e=>{e.style.backgroundColor=t?"#3D63DD":"#FF8552"}))}f()}));